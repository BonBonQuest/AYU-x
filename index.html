<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏≠‡∏∏‡πà‡∏ô‡πÉ‡∏à ‡πÇ‡∏Æ‡∏°‡πÅ‡∏Ñ‡∏£‡πå - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide React icons as inline SVG components
        const Search = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
            </svg>
        );

        const Plus = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        );

        const Download = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
        );

        const Users = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
        );

        const UserCheck = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="8.5" cy="7" r="4"></circle>
                <polyline points="17 11 19 13 23 9"></polyline>
            </svg>
        );

        const Calendar = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
        );

        const Clock = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
        );

        const MapPin = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
            </svg>
        );

        const FileText = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="16" y1="13" x2="8" y2="13"></line>
                <line x1="16" y1="17" x2="8" y2="17"></line>
                <polyline points="10 9 9 9 8 9"></polyline>
            </svg>
        );

        const OonjaiManagementSystem = () => {
            const [activeTab, setActiveTab] = useState('dashboard');
            const [customers, setCustomers] = useState([]);
            const [staff, setStaff] = useState([]);
            const [searchTerm, setSearchTerm] = useState('');
            const [showCustomerForm, setShowCustomerForm] = useState(false);
            const [showStaffForm, setShowStaffForm] = useState(false);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                loadData();
            }, []);

            const loadData = () => {
                try {
                    // const customersData = localStorage.getItem('oonjai_customers');
                    const API_URL_CUSTOMERS = "https://script.google.com/macros/s/AKfycbzEY9KgvmmlcVSIdUnGe5DjFXYtMaFrL6fWIfTr3fLIEwuaBvXV2l9-z8Rqis85xln8oA/exec";
                    fetch(API_URL_CUSTOMERS)
                        .then(res_customersData => res_customersData.json())
                        .then(data => {
                        customersData = data;
                    });
                    const staffData = localStorage.getItem('oonjai_staff');
                    
                    if (customersData) {
                        setCustomers(JSON.parse(customersData));
                    }
                    if (staffData) {
                        setStaff(JSON.parse(staffData));
                    }
                } catch (error) {
                    console.log('Loading initial data');
                }
                setLoading(false);
            };

            const saveCustomers = (newCustomers) => {
                try {
                    localStorage.setItem('oonjai_customers', JSON.stringify(newCustomers));
                    setCustomers(newCustomers);
                } catch (error) {
                    console.error('Error saving customers:', error);
                    alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
                }
            };

            const saveStaff = (newStaff) => {
                try {
                    localStorage.setItem('oonjai_staff', JSON.stringify(newStaff));
                    setStaff(newStaff);
                } catch (error) {
                    console.error('Error saving staff:', error);
                    alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
                }
            };

            const deleteCustomer = (id) => {
                if (confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤?')) {
                    const newCustomers = customers.filter(c => c.id !== id);
                    saveCustomers(newCustomers);
                }
            };

            const deleteStaff = (id) => {
                if (confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô?')) {
                    const newStaff = staff.filter(s => s.id !== id);
                    saveStaff(newStaff);
                }
            };

            const exportToCSV = (data, filename) => {
                if (data.length === 0) {
                    alert('‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ Export');
                    return;
                }

                const headers = Object.keys(data[0]).join(',');
                const rows = data.map(item => 
                    Object.values(item).map(val => 
                        typeof val === 'string' && val.includes(',') ? `"${val}"` : val
                    ).join(',')
                );
                
                const csv = [headers, ...rows].join('\n');
                const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `${filename}_${new Date().toISOString().split('T')[0]}.csv`;
                link.click();
            };

            const CustomerForm = () => {
                const [formData, setFormData] = useState({
                    id: Date.now(),
                    customerName: '',
                    age: '',
                    healthCondition: '',
                    serviceType: 'NA',
                    rate: '',
                    serviceDate: '',
                    shift: 'D',
                    shiftTime: '',
                    location: '',
                    notes: '',
                    createdAt: new Date().toISOString()
                });

                const handleSubmit = (e) => {
                    e.preventDefault();
                    const newCustomers = [...customers, formData];
                    saveCustomers(newCustomers);
                    setShowCustomerForm(false);
                    alert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                };

                return (
                    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                        <div className="bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                            <h3 className="text-xl font-bold mb-4 text-teal-700">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h3>
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• *</label>
                                        <input
                                            type="text"
                                            required
                                            value={formData.customerName}
                                            onChange={(e) => setFormData({...formData, customerName: e.target.value})}
                                            className="w-full border rounded px-3 py-2"
                                            placeholder="‡∏Ñ‡∏∏‡∏ì‡∏ß‡∏¥‡∏•‡∏≤‡∏ß‡∏±‡∏ì‡∏¢‡πå ‡πÅ‡∏ã‡πà‡∏≠‡∏∏‡∏ô"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-1">‡∏≠‡∏≤‡∏¢‡∏∏ *</label>
                                        <input
                                            type="number"
                                            required
                                            value={formData.age}
                                            onChange={(e) => setFormData({...formData, age: e.target.value})}
                                            className="w-full border rounded px-3 py-2"
                                            placeholder="75"
                                        />
                                    </div>
                                </div>

                                <div>
                                    <label className="block text-sm font-medium mb-1">‡∏™‡∏†‡∏≤‡∏û‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û / ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏• *</label>
                                    <textarea
                                        required
                                        value={formData.healthCondition}
                                        onChange={(e) => setFormData({...formData, healthCondition: e.target.value})}
                                        className="w-full border rounded px-3 py-2"
                                        rows="3"
                                        placeholder="‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥, ‡∏°‡∏µ‡∏≠‡∏±‡∏•‡πÑ‡∏ã‡πÄ‡∏°‡∏≠‡∏£‡πå‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô, ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô ‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏∏‡∏¢ ‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß ‡∏ó‡∏≤‡∏ô‡∏¢‡∏≤"
                                    />
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ *</label>
                                        <select
                                            required
                                            value={formData.serviceType}
                                            onChange={(e) => setFormData({...formData, serviceType: e.target.value})}
                                            className="w-full border rounded px-3 py-2"
                                        >
                                            <option value="RN">RN (‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û)</option>
                                            <option value="PN">PN (‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ)</option>
                                            <option value="NA">NA (‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•)</option>
                                            <option value="CG">CG (‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏)</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-1">‡πÄ‡∏£‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó) *</label>
                                        <input
                                            type="number"
                                            required
                                            value={formData.rate}
                                            onChange={(e) => setFormData({...formData, rate: e.target.value})}
                                            className="w-full border rounded px-3 py-2"
                                            placeholder="1100"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-1">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ *</label>
                                        <input
                                            type="text"
                                            required
                                            value={formData.serviceDate}
                                            onChange={(e) => setFormData({...formData, serviceDate: e.target.value})}
                                            className="w-full border rounded px-3 py-2"
                                            placeholder="27-29 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°"
                                        />
                                    </div>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">‡πÄ‡∏ß‡∏£ *</label>
                                        <select
                                            required
                                            value={formData.shift}
                                            onChange={(e) => setFormData({...formData, shift: e.target.value})}
                                            className="w-full border rounded px-3 py-2"
                                        >
                                            <option value="D">Day (‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô)</option>
                                            <option value="N">Night (‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô)</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-1">‡πÄ‡∏ß‡∏•‡∏≤</label>
                                        <input
                                            type="text"
                                            value={formData.shiftTime}
                                            onChange={(e) => setFormData({...formData, shiftTime: e.target.value})}
                                            className="w-full border rounded px-3 py-2"
                                            placeholder="07.00-19.00 ‡∏ô."
                                        />
                                    </div>
                                </div>

                                <div>
                                    <label className="block text-sm font-medium mb-1">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà / ‡∏û‡∏¥‡∏Å‡∏±‡∏î *</label>
                                    <input
                                        type="text"
                                        required
                                        value={formData.location}
                                        onChange={(e) => setFormData({...formData, location: e.target.value})}
                                        className="w-full border rounded px-3 py-2"
                                        placeholder="‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà ‡πÄ‡∏ó‡∏û‡∏≤‡∏£‡∏±‡∏Å‡∏©‡πå ‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£"
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium mb-1">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
                                    <textarea
                                        value={formData.notes}
                                        onChange={(e) => setFormData({...formData, notes: e.target.value})}
                                        className="w-full border rounded px-3 py-2"
                                        rows="2"
                                        placeholder="‡∏Ç‡∏≠‡∏Ñ‡∏ô‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á"
                                    />
                                </div>

                                <div className="flex gap-2 pt-4">
                                    <button
                                        type="submit"
                                        className="flex-1 bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700"
                                    >
                                        ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                                    </button>
                                    <button
                                        type="button"
                                        onClick={() => setShowCustomerForm(false)}
                                        className="flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400"
                                    >
                                        ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                );
            };

            const StaffForm = () => {
                const [formData, setFormData] = useState({
                    id: Date.now(),
                    staffName: '',
                    qualification: '',
                    rate: '',
                    availability: '',
                    experience: '',
                    address: '',
                    phone: '',
                    notes: '',
                    createdAt: new Date().toISOString()
                });

                const handleSubmit = (e) => {
                    e.preventDefault();
                    const newStaff = [...staff, formData];
                    saveStaff(newStaff);
                    setShowStaffForm(false);
                    alert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                };

                return (
                    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                        <div className="bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                            <h3 className="text-xl font-bold mb-4 text-teal-700">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h3>
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <div>
                                    <label className="block text-sm font-medium mb-1">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• *</label>
                                    <input
                                        type="text"
                                        required
                                        value={formData.staffName}
                                        onChange={(e) => setFormData({...formData, staffName: e.target.value})}
                                        className="w-full border rounded px-3 py-2"
                                        placeholder="‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏°‡∏´‡∏°‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ"
                                    />
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">‡∏ß‡∏∏‡∏í‡∏¥‡∏ó‡∏µ‡πà‡∏à‡∏ö‡∏°‡∏≤ *</label>
                                        <select
                                            required
                                            value={formData.qualification}
                                            onChange={(e) => setFormData({...formData, qualification: e.target.value})}
                                            className="w-full border rounded px-3 py-2"
                                        >
                                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏∏‡∏í‡∏¥</option>
                                            <option value="RN">RN - ‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û</option>
                                            <option value="PN">PN - ‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ</option>
                                            <option value="NA">NA - ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</option>
                                            <option value="CG">CG - ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-1">‡πÄ‡∏£‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô (‡∏ö‡∏≤‡∏ó) *</label>
                                        <input
                                            type="number"
                                            required
                                            value={formData.rate}
                                            onChange={(e) => setFormData({...formData, rate: e.target.value})}
                                            className="w-full border rounded px-3 py-2"
                                            placeholder="1000"
                                        />
                                    </div>
                                </div>

                                <div>
                                    <label className="block text-sm font-medium mb-1">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô / ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏° *</label>
                                    <input
                                        type="text"
                                        required
                                        value={formData.availability}
                                        onChange={(e) => setFormData({...formData, availability: e.target.value})}
                                        className="w-full border rounded px-3 py-2"
                                        placeholder="‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÄ‡∏ß‡∏£ Day, ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏•‡∏∞ 5 ‡∏ß‡∏±‡∏ô"
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium mb-1">‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô *</label>
                                    <textarea
                                        required
                                        value={formData.experience}
                                        onChange={(e) => setFormData({...formData, experience: e.target.value})}
                                        className="w-full border rounded px-3 py-2"
                                        rows="3"
                                        placeholder="‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå 5 ‡∏õ‡∏µ ‡∏î‡∏π‡πÅ‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏‡∏ï‡∏¥‡∏î‡πÄ‡∏ï‡∏µ‡∏¢‡∏á, ‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏≠‡∏±‡∏•‡πÑ‡∏ã‡πÄ‡∏°‡∏≠‡∏£‡πå"
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium mb-1">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏≠‡∏≤‡∏®‡∏±‡∏¢ *</label>
                                    <input
                                        type="text"
                                        required
                                        value={formData.address}
                                        onChange={(e) => setFormData({...formData, address: e.target.value})}
                                        className="w-full border rounded px-3 py-2"
                                        placeholder="‡∏ö‡∏≤‡∏á‡∏ô‡∏≤ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø"
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium mb-1">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                                    <input
                                        type="tel"
                                        value={formData.phone}
                                        onChange={(e) => setFormData({...formData, phone: e.target.value})}
                                        className="w-full border rounded px-3 py-2"
                                        placeholder="081-234-5678"
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium mb-1">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
                                    <textarea
                                        value={formData.notes}
                                        onChange={(e) => setFormData({...formData, notes: e.target.value})}
                                        className="w-full border rounded px-3 py-2"
                                        rows="2"
                                        placeholder="‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"
                                    />
                                </div>

                                <div className="flex gap-2 pt-4">
                                    <button
                                        type="submit"
                                        className="flex-1 bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700"
                                    >
                                        ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                                    </button>
                                    <button
                                        type="button"
                                        onClick={() => setShowStaffForm(false)}
                                        className="flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400"
                                    >
                                        ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                );
            };

            const Dashboard = () => (
                <div className="space-y-6">
                    <h2 className="text-2xl font-bold text-teal-700">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</h2>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div className="bg-gradient-to-br from-teal-500 to-teal-600 text-white p-6 rounded-lg shadow-lg">
                            <div className="flex items-center justify-between">
                                <div>
                                    <p className="text-teal-100">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                                    <p className="text-4xl font-bold mt-2">{customers.length}</p>
                                </div>
                                <Users size={64} className="text-teal-200" />
                            </div>
                        </div>

                        <div className="bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-lg shadow-lg">
                            <div className="flex items-center justify-between">
                                <div>
                                    <p className="text-blue-100">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                                    <p className="text-4xl font-bold mt-2">{staff.length}</p>
                                </div>
                                <UserCheck size={64} className="text-blue-200" />
                            </div>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div className="bg-white p-6 rounded-lg shadow">
                            <h3 className="text-lg font-bold mb-4 text-teal-700">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
                            {customers.slice(-5).reverse().map(customer => (
                                <div key={customer.id} className="border-b py-3 last:border-b-0">
                                    <p className="font-semibold">{customer.customerName}</p>
                                    <p className="text-sm text-gray-600">{customer.serviceType} - {customer.serviceDate}</p>
                                </div>
                            ))}
                            {customers.length === 0 && (
                                <p className="text-gray-400 text-center py-4">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</p>
                            )}
                        </div>

                        <div className="bg-white p-6 rounded-lg shadow">
                            <h3 className="text-lg font-bold mb-4 text-blue-700">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
                            {staff.slice(-5).reverse().map(s => (
                                <div key={s.id} className="border-b py-3 last:border-b-0">
                                    <p className="font-semibold">{s.staffName}</p>
                                    <p className="text-sm text-gray-600">{s.qualification} - ‡∏ø{s.rate}</p>
                                </div>
                            ))}
                            {staff.length === 0 && (
                                <p className="text-gray-400 text-center py-4">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</p>
                            )}
                        </div>
                    </div>
                </div>
            );

            const CustomerList = () => {
                const filteredCustomers = customers.filter(c => 
                    c.customerName.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    c.location.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    c.serviceType.toLowerCase().includes(searchTerm.toLowerCase())
                );

                return (
                    <div className="space-y-4">
                        <div className="flex justify-between items-center">
                            <h2 className="text-2xl font-bold text-teal-700">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h2>
                            <button
                                onClick={() => exportToCSV(customers, 'oonjai_customers')}
                                className="flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"
                            >
                                <Download size={18} />
                                Export CSV
                            </button>
                        </div>

                        <div className="relative">
                            <Search className="absolute left-3 top-3 text-gray-400" size={20} />
                            <input
                                type="text"
                                placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤..."
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                                className="w-full pl-10 pr-4 py-2 border rounded-lg"
                            />
                        </div>

                        <div className="grid gap-4">
                            {filteredCustomers.map(customer => (
                                <div key={customer.id} className="bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow">
                                    <div className="flex justify-between items-start mb-3">
                                        <div>
                                            <h3 className="text-xl font-bold text-teal-700">{customer.customerName}</h3>
                                            <p className="text-gray-600">‡∏≠‡∏≤‡∏¢‡∏∏ {customer.age} ‡∏õ‡∏µ</p>
                                        </div>
                                        <div className="flex gap-2">
                                            <span className="bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-sm font-semibold">
                                                {customer.serviceType}
                                            </span>
                                            <button
                                                onClick={() => deleteCustomer(customer.id)}
                                                className="text-red-600 hover:text-red-800 px-2"
                                                title="‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"
                                            >
                                                ‚úï
                                            </button>
                                        </div>
                                    </div>

                                    <div className="space-y-2 text-sm">
                                        <div className="flex items-start gap-2">
                                            <FileText size={16} className="text-gray-400 mt-0.5 flex-shrink-0" />
                                            <p className="text-gray-700">{customer.healthCondition}</p>
                                        </div>
                                        
                                        <div className="flex items-center gap-2">
                                            <Calendar size={16} className="text-gray-400" />
                                            <p className="text-gray-700">{customer.serviceDate}</p>
                                        </div>

                                        <div className="flex items-center gap-2">
                                            <Clock size={16} className="text-gray-400" />
                                            <p className="text-gray-700">
                                                ‡πÄ‡∏ß‡∏£ {customer.shift === 'D' ? 'Day' : 'Night'} 
                                                {customer.shiftTime && ` (${customer.shiftTime})`}
                                            </p>
                                        </div>

                                        <div className="flex items-center gap-2">
                                            <MapPin size={16} className="text-gray-400" />
                                            <p className="text-gray-700">{customer.location}</p>
                                        </div>

                                        <div className="pt-2 border-t">
                                            <p className="font-semibold text-teal-700">‡πÄ‡∏£‡∏ó: ‡∏ø{customer.rate}</p>
                                        </div>

                                        {customer.notes && (
                                            <div className="pt-2 border-t">
                                                <p className="text-gray-600 italic">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: {customer.notes}</p>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            ))}
                        </div>

                        {filteredCustomers.length === 0 && (
                            <div className="text-center py-12 text-gray-400">
                                <Users size={48} className="mx-auto mb-4 opacity-50" />
                                <p>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</p>
                            </div>
                        )}
                    </div>
                );
            };

            const StaffList = () => {
                const filteredStaff = staff.filter(s => 
                    s.staffName.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    s.qualification.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    s.address.toLowerCase().includes(searchTerm.toLowerCase())
                );

                return (
                    <div className="space-y-4">
                        <div className="flex justify-between items-center">
                            <h2 className="text-2xl font-bold text-blue-700">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h2>
                            <button
                                onClick={() => exportToCSV(staff, 'oonjai_staff')}
                                className="flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"
                            >
                                <Download size={18} />
                                Export CSV
                            </button>
                        </div>

                        <div className="relative">
                            <Search className="absolute left-3 top-3 text-gray-400" size={20} />
                            <input
                                type="text"
                                placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô..."
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                                className="w-full pl-10 pr-4 py-2 border rounded-lg"
                            />
                        </div>

                        <div className="grid gap-4">
                            {filteredStaff.map(s => (
                                <div key={s.id} className="bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow">
                                    <div className="flex justify-between items-start mb-3">
                                        <div>
                                            <h3 className="text-xl font-bold text-blue-700">{s.staffName}</h3>
                                            <p className="text-gray-600">{s.qualification}</p>
                                        </div>
                                        <div className="flex gap-2">
                                            <span className="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold">
                                                ‡∏ø{s.rate}
                                            </span>
                                            <button
                                                onClick={() => deleteStaff(s.id)}
                                                className="text-red-600 hover:text-red-800 px-2"
                                                title="‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"
                                            >
                                                ‚úï
                                            </button>
                                        </div>
                                    </div>

                                    <div className="space-y-2 text-sm">
                                        <div>
                                            <p className="font-medium text-gray-700">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°:</p>
                                            <p className="text-gray-600">{s.availability}</p>
                                        </div>

                                        <div>
                                            <p className="font-medium text-gray-700">‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå:</p>
                                            <p className="text-gray-600">{s.experience}</p>
                                        </div>

                                        <div className="flex items-start gap-2 pt-2 border-t">
                                            <MapPin size={16} className="text-gray-400 mt-0.5 flex-shrink-0" />
                                            <p className="text-gray-700">{s.address}</p>
                                        </div>

                                        {s.phone && (
                                            <div className="pt-2">
                                                <p className="text-gray-700">üìû {s.phone}</p>
                                            </div>
                                        )}

                                        {s.notes && (
                                            <div className="pt-2 border-t">
                                                <p className="text-gray-600 italic">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: {s.notes}</p>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            ))}
                        </div>

                        {filteredStaff.length === 0 && (
                            <div className="text-center py-12 text-gray-400">
                                <UserCheck size={48} className="mx-auto mb-4 opacity-50" />
                                <p>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</p>
                            </div>
                        )}
                    </div>
                );
            };

            if (loading) {
                return (
                    <div className="min-h-screen bg-gray-50 flex items-center justify-center">
                        <div className="text-center">
                            <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"></div>
                            <p className="mt-4 text-gray-600">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gray-50">
                    <div className="bg-gradient-to-r from-teal-600 to-teal-700 text-white shadow-lg">
                        <div className="max-w-7xl mx-auto px-4 py-6">
                            <h1 className="text-3xl font-bold">‡∏≠‡∏∏‡πà‡∏ô‡πÉ‡∏à ‡πÇ‡∏Æ‡∏°‡πÅ‡∏Ñ‡∏£‡πå</h1>
                            <p className="text-teal-100 mt-1">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</p>
                        </div>
                    </div>

                    <div className="bg-white shadow-md sticky top-0 z-40">
                        <div className="max-w-7xl mx-auto px-4">
                            <div className="flex gap-4 overflow-x-auto">
                                <button
                                    onClick={() => setActiveTab('dashboard')}
                                    className={`px-6 py-4 font-medium whitespace-nowrap border-b-2 transition-colors ${
                                        activeTab === 'dashboard'
                                            ? 'border-teal-600 text-teal-600'
                                            : 'border-transparent text-gray-600 hover:text-teal-600'
                                    }`}
                                >
                                    üìä Dashboard
                                </button>
                                <button
                                    onClick={() => setActiveTab('customers')}
                                    className={`px-6 py-4 font-medium whitespace-nowrap border-b-2 transition-colors ${
                                        activeTab === 'customers'
                                            ? 'border-teal-600 text-teal-600'
                                            : 'border-transparent text-gray-600 hover:text-teal-600'
                                    }`}
                                >
                                    üë• ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ({customers.length})
                                </button>
                                <button
                                    onClick={() => setActiveTab('staff')}
                                    className={`px-6 py-4 font-medium whitespace-nowrap border-b-2 transition-colors ${
                                        activeTab === 'staff'
                                            ? 'border-blue-600 text-blue-600'
                                            : 'border-transparent text-gray-600 hover:text-blue-600'
                                    }`}
                                >
                                    üë®‚Äç‚öïÔ∏è ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô ({staff.length})
                                </button>
                            </div>
                        </div>
                    </div>

                    <div className="max-w-7xl mx-auto px-4 py-6">
                        {activeTab === 'dashboard' && <Dashboard />}
                        {activeTab === 'customers' && <CustomerList />}
                        {activeTab === 'staff' && <StaffList />}
                    </div>

                    <div className="fixed bottom-6 right-6 flex flex-col gap-3">
                        {activeTab === 'customers' && (
                            <button
                                onClick={() => setShowCustomerForm(true)}
                                className="bg-teal-600 text-white p-4 rounded-full shadow-lg hover:bg-teal-700 transition-all hover:scale-110"
                                title="‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà"
                            >
                                <Plus size={24} />
                            </button>
                        )}
                        {activeTab === 'staff' && (
                            <button
                                onClick={() => setShowStaffForm(true)}
                                className="bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-all hover:scale-110"
                                title="‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà"
                            >
                                <Plus size={24} />
                            </button>
                        )}
                    </div>

                    {showCustomerForm && <CustomerForm />}
                    {showStaffForm && <StaffForm />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<OonjaiManagementSystem />);
    </script>
</body>
</html>